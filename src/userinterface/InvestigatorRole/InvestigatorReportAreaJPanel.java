/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package userinterface.InvestigatorRole;

import Buisness.StringVerifier;
import Business.WorkQueue.LabTestWorkRequest;
import java.awt.CardLayout;
import java.awt.Component;
import javax.swing.InputVerifier;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

/**
 *
 * 
 */
public class InvestigatorReportAreaJPanel extends javax.swing.JPanel {
    
    JPanel userProcessContainer;
    LabTestWorkRequest request;
    /**
     * Creates new form InvestigatorReportAreaJPanel
     */

    InvestigatorReportAreaJPanel(JPanel userProcessContainer, LabTestWorkRequest request) {
        initComponents();
        this.userProcessContainer = userProcessContainer;
        this.request = request;
        addVerifiers();
    }
    
    private void addVerifiers(){
   
    InputVerifier stringVerifier = new StringVerifier();
    txtChildFirstName.setInputVerifier(stringVerifier);
    txtChildLastName.setInputVerifier(stringVerifier); 
    }
        

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        lblCloseInvestigation = new javax.swing.JLabel();
        lblReportSummary = new javax.swing.JLabel();
        spReportSummarry = new javax.swing.JScrollPane();
        txtReportSummary = new javax.swing.JTextArea();
        txtChildLastName = new javax.swing.JTextField();
        txtChildFirstName = new javax.swing.JTextField();
        lblFName = new javax.swing.JLabel();
        lblLName = new javax.swing.JLabel();
        btnCloseCase = new javax.swing.JToggleButton();
        btnBack = new javax.swing.JButton();
        btnSaveChoice = new javax.swing.JButton();
        lblImg = new javax.swing.JLabel();

        setBackground(new java.awt.Color(177, 201, 226));
        setLayout(null);

        lblCloseInvestigation.setFont(new java.awt.Font("Times New Roman", 1, 18)); // NOI18N
        lblCloseInvestigation.setText(" Close Investigation:");
        add(lblCloseInvestigation);
        lblCloseInvestigation.setBounds(286, 143, 200, 21);

        lblReportSummary.setFont(new java.awt.Font("Times New Roman", 1, 18)); // NOI18N
        lblReportSummary.setText("Report Summary:");
        add(lblReportSummary);
        lblReportSummary.setBounds(302, 340, 160, 21);

        txtReportSummary.setBackground(new java.awt.Color(255, 255, 153));
        txtReportSummary.setColumns(20);
        txtReportSummary.setFont(new java.awt.Font("Times New Roman", 0, 14)); // NOI18N
        txtReportSummary.setRows(5);
        spReportSummarry.setViewportView(txtReportSummary);

        add(spReportSummarry);
        spReportSummarry.setBounds(470, 280, 278, 146);

        txtChildLastName.setBackground(new java.awt.Color(255, 255, 153));
        txtChildLastName.setFont(new java.awt.Font("Times New Roman", 0, 14)); // NOI18N
        add(txtChildLastName);
        txtChildLastName.setBounds(470, 240, 278, 23);

        txtChildFirstName.setBackground(new java.awt.Color(255, 255, 153));
        txtChildFirstName.setFont(new java.awt.Font("Times New Roman", 0, 14)); // NOI18N
        txtChildFirstName.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtChildFirstNameActionPerformed(evt);
            }
        });
        add(txtChildFirstName);
        txtChildFirstName.setBounds(470, 200, 278, 23);

        lblFName.setFont(new java.awt.Font("Times New Roman", 1, 18)); // NOI18N
        lblFName.setText("First Name :");
        add(lblFName);
        lblFName.setBounds(347, 202, 110, 21);

        lblLName.setFont(new java.awt.Font("Times New Roman", 1, 18)); // NOI18N
        lblLName.setText("Last Name:");
        add(lblLName);
        lblLName.setBounds(354, 243, 110, 21);

        btnCloseCase.setBackground(new java.awt.Color(255, 255, 153));
        btnCloseCase.setFont(new java.awt.Font("Times New Roman", 1, 18)); // NOI18N
        btnCloseCase.setText("Close Case");
        btnCloseCase.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCloseCaseActionPerformed(evt);
            }
        });
        add(btnCloseCase);
        btnCloseCase.setBounds(470, 130, 278, 39);

        btnBack.setBackground(new java.awt.Color(255, 255, 153));
        btnBack.setFont(new java.awt.Font("Times New Roman", 1, 24)); // NOI18N
        btnBack.setText("<<<");
        btnBack.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnBackActionPerformed(evt);
            }
        });
        add(btnBack);
        btnBack.setBounds(60, 20, 72, 36);

        btnSaveChoice.setBackground(new java.awt.Color(255, 255, 153));
        btnSaveChoice.setFont(new java.awt.Font("Times New Roman", 1, 18)); // NOI18N
        btnSaveChoice.setText("Save");
        btnSaveChoice.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSaveChoiceActionPerformed(evt);
            }
        });
        add(btnSaveChoice);
        btnSaveChoice.setBounds(820, 470, 120, 49);

        lblImg.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Image/investigation-3.jpg"))); // NOI18N
        lblImg.setMaximumSize(new java.awt.Dimension(50, 50));
        lblImg.setMinimumSize(new java.awt.Dimension(50, 50));
        lblImg.setPreferredSize(new java.awt.Dimension(1680, 1050));
        add(lblImg);
        lblImg.setBounds(-450, 0, 2010, 1370);
    }// </editor-fold>//GEN-END:initComponents

    private void txtChildFirstNameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtChildFirstNameActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtChildFirstNameActionPerformed

    private void btnSaveChoiceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSaveChoiceActionPerformed
        // TODO add your handling code here:
        if(txtReportSummary == null ||  txtReportSummary.getText().isEmpty() || txtChildFirstName == null||txtChildFirstName.getText().isEmpty() || txtChildLastName == null || txtChildLastName.getText().isEmpty())
        {
                                JOptionPane.showMessageDialog(null, "One or more fields may be Empty");

        }
        else{
        request.setChildName(txtChildFirstName.getText()+" "+txtChildLastName.getText());
        request.setReport(txtReportSummary.getText());
        if(txtReportSummary!=null)
        {
            request.setTestResult("Available");
        }
        if(btnCloseCase.isSelected())
        {
            request.setStatus("Closed");
                    JOptionPane.showMessageDialog(null, "Case Closed Successfully");

        }
        else{
                    JOptionPane.showMessageDialog(null, "Data Updated");

        }
        }
        
    }//GEN-LAST:event_btnSaveChoiceActionPerformed

    private void btnBackActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnBackActionPerformed
        // TODO add your handling code here:
                userProcessContainer.remove(this);
        Component[] componentArray = userProcessContainer.getComponents();
        Component component = componentArray[componentArray.length - 1];
        InvestigatorWorkAreaJPanel iwajp = (InvestigatorWorkAreaJPanel) component;
        iwajp.populateTable();
        CardLayout layout = (CardLayout) userProcessContainer.getLayout();
        layout.previous(userProcessContainer);
    }//GEN-LAST:event_btnBackActionPerformed

    private void btnCloseCaseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCloseCaseActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnCloseCaseActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnBack;
    private javax.swing.JToggleButton btnCloseCase;
    private javax.swing.JButton btnSaveChoice;
    private javax.swing.JLabel lblCloseInvestigation;
    private javax.swing.JLabel lblFName;
    private javax.swing.JLabel lblImg;
    private javax.swing.JLabel lblLName;
    private javax.swing.JLabel lblReportSummary;
    private javax.swing.JScrollPane spReportSummarry;
    private javax.swing.JTextField txtChildFirstName;
    private javax.swing.JTextField txtChildLastName;
    private javax.swing.JTextArea txtReportSummary;
    // End of variables declaration//GEN-END:variables
}
